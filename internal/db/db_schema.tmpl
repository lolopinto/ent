# Code generated by github.com/lolopinto/ent/ent, DO NOT edit. (TODO figure out correct pythonic way of doing this)

import sqlalchemy as sa
from sqlalchemy.dialects import postgresql

metadata = sa.MetaData()

{{with .Tables -}}
  {{- range . }} 
sa.Table({{- .TableName}}, metadata,
    {{- with .SchemaLines -}}
      {{- range . }}
    {{.}},
      {{- end -}}
    {{- end }}
)
  {{ end -}}
{{- end}}

metadata.info["edges"] = {
  'public': {
{{- with .Edges -}}
  {{- range .}}
    '{{.EdgeName}}': {{.EdgeLine}},
  {{- end}}
{{- end}}
  }
}

{{ $length := len .Data -}} {{ if ne $length 0 -}}
metadata.info["data"] = {
  'public':{
    {{ range .Data -}}
      '{{.TableName}}': {
        'pkeys': {{.Pkeys}},
        'rows': [
          {{- range .Rows}}
            {{ . -}},
          {{- end}}
        ], 
      },
    {{end}}
  }
}
{{end}}

def get_metadata():
  return metadata
